<div class="row">
    <div class="col-12">
        <ng-container *ngIf="linkValue">
            <span class="badge badge-pill badge-secondary" *ngIf="linkValue.type === 'media'">
                {{ linkValue.type }}: {{ linkValue.value.filename}} <button type="button" class="btn btn-link btn-sm" (click)="remove()"><span class="text-danger fa fa-close"></span></button>
            </span>

            <span class="badge badge-pill badge-secondary" *ngIf="linkValue.type === 'sitemap'">
                {{ linkValue.type }}: {{ linkValue.value.name}} <button type="button" class="btn btn-link btn-sm" (click)="remove()"><span class="text-danger fa fa-close"></span></button>
            </span>
        </ng-container>

        <button *ngIf="!linkValue" type="button" class="btn btn-sm btn-light" (click)="openModal(template)">Select</button>
    </div>
</div>

<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Link</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <ng-select [items]="[{name:'external', label: 'External'},{name:'sitemap', label: 'Sitemap'}, {name:'media', label: 'Media'}]"
                   bindLabel="label"
                   bindValue="name"
                   [(ngModel)]="selectedType"
                   [clearable]="false"></ng-select>
        <hr>
        <ng-container *ngIf="selectedType === 'media'">
            <media-list (onSelect)="onSelectMedia($event)"></media-list>
        </ng-container>
        <ng-container *ngIf="selectedType === 'sitemap'">
            <sitemap-modal-list (onSelect)="onSelectPage($event)"></sitemap-modal-list>
        </ng-container>
        <ng-container *ngIf="selectedType === 'external'">
            Test
        </ng-container>

    </div>
</ng-template>
