<ng-container *ngIf="data$ | async as data">
    <app-content [title]="data.label">
        <ng-template #content>
            <page-version-edit [id]="data.item.id"></page-version-edit>
        </ng-template>

        <ng-template #aside>
            <tabset>
                <tab>
                    <ng-template tabHeading>
                        <i class="icon-settings"></i>
                    </ng-template>
                    <div class="p-3">
                        <form [formGroup]="form" *ngIf="form">
                            <formly-form [form]="form" [fields]="fields" [model]="data.item"></formly-form>
                        </form>
                        <form [formGroup]="navigationForm" *ngIf="navigationForm">
                            <formly-form [form]="navigationForm" [fields]="navigationFields" [model]="navigationModel"></formly-form>
                        </form>
                    </div>
                </tab>
            </tabset>
        </ng-template>

        <ng-template #header>
            <div class="btn-group btn-group-sm pull-right">
                <button type="button" (click)="onSubmit()" class="btn btn-outline-primary btn-sm">
                    <i class="fa fa-fw fa-save"></i>
                    <span>Publish</span>
                </button>
                <button *ngIf="false" type="button" class="btn btn-outline-danger btn-sm"
                        [disabled]="(loading$ | async)"
                        (click)="onDelete()">
                    <i class="fa fa-trash"></i> Delete
                </button>
            </div>
        </ng-template>
    </app-content>
</ng-container>
