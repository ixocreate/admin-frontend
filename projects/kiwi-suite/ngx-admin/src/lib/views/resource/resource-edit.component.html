<ng-container *ngIf="data$ | async as data">
    <form [formGroup]="form"
          (ngSubmit)="onSubmit()"
          *ngIf="form && fields">
        <app-content [title]="data.label">
            <ng-template #content>
                <div class="row">
                    <div class="col-12">
                        <div class="card card-accent-primary">
                            <div class="card-body">
                                <formly-form [form]="form" [fields]="fields" [model]="data.item"></formly-form>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-template>

            <ng-template #header>
                <div class="btn-group btn-group-sm pull-right">
                    <button type="submit" class="btn btn-outline-primary btn-sm">
                        <i class="fa fa-fw fa-save"></i>
                        <span>Update</span>
                    </button>
                    <button type="button" class="btn btn-outline-danger btn-sm"
                            [disabled]="(loading$ | async)"
                            (click)="onDelete()"
                            *can="['admin.api.'+resourceKey+'.delete']">
                        <i class="fa fa-trash"></i> Delete
                    </button>
                </div>
            </ng-template>
        </app-content>
    </form>
</ng-container>
