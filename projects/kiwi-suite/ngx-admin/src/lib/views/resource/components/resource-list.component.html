<ng-container *ngIf="data$ | async as data">
    <ngx-datatable
            class="bootstrap expandable"
            #dataTable
            [rows]="data.items"
            [loadingIndicator]="loadingIndicator"
            [columnMode]="'force'"
            [rowHeight]="'auto'"
            [headerHeight]="50"
            [footerHeight]="50"
            [limit]="limit"
            [reorderable]="reorderable"
            (page)="onPage($event)">
        <div *ngIf="data.schema.list">
            <ngx-datatable-column *ngFor="let schemaColumn of data.schema.list" [prop]="schemaColumn.key">
                <ng-template let-column="column" ngx-datatable-header-template>
                    {{ schemaColumn.name }}
                </ng-template>
                <ng-template let-value="value" ngx-datatable-cell-template>
                    {{ value }}
                </ng-template>
            </ngx-datatable-column>
        </div>

        <ngx-datatable-column prop="id">
            <ng-template let-column="column" ngx-datatable-header-template>
            </ng-template>
            <ng-template let-value="value" ngx-datatable-cell-template>
                <div class="text-right">
                    <a routerLink="/{{ resourcePathPrefix }}/{{ resourceKey }}/{{ value }}/edit" class="btn btn-sm btn-primary">
                        <i class="fa fa-pencil"></i>
                    </a>
                </div>
            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</ng-container>

