<app-header
  [fixed]="true"
  [navbarBrandFull]="{src: appData.config.project.logo, width: 150, height: 45, alt: appData.config.project.name }"
  [navbarBrandMinimized]="{src: appData.config.project.icon, width: 35, height: 35, alt: appData.config.project.name }"
  [sidebarToggler]="'lg'"
  [asideMenuToggler]="false"
  [mobileAsideMenuToggler]="false">
  <ul class="nav navbar-nav ml-auto pr-2">
    <li class="nav-item dropdown" dropdown placement="bottom right" *ngIf="accountData.user$ | async as user">
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" dropdownToggle (click)="false">
        <img [src]="user.avatar" class="img-avatar" [alt]="user.email"/>
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu>
        <div class="dropdown-header text-center"><strong>Settings</strong></div>
        <a class="dropdown-item" routerLink="/account" href="#"><i class="fa fa-user"></i> Account</a>
        <button class="dropdown-item" (click)="logout()" ><i class="fa fa-lock"></i> Logout</button>
      </div>
    </li>
  </ul>
</app-header>

<div class="app-body">
  <app-sidebar [fixed]="true" [display]="'lg'">
    <ng-container *ngIf="navItems">
      <app-sidebar-nav [navItems]="navItems" [perfectScrollbar] [disabled]="sidebarMinimized"></app-sidebar-nav>
    </ng-container>
    <app-sidebar-minimizer></app-sidebar-minimizer>
  </app-sidebar>

  <main class="main">
    <div class="page-title" #header>
      <ol class="breadcrumb">
        <app-breadcrumb></app-breadcrumb>
      </ol>
      <div class="page-title-buttons" *ngIf="headerButtons">
        <ng-container *ngTemplateOutlet="headerButtons"></ng-container>
      </div>
    </div>

    <router-outlet (activate)="onRouterOutletActivate($event)"></router-outlet>
  </main>

  <kiwi-aside [visible]="!!aside">
    <ng-container *ngTemplateOutlet="aside"></ng-container>
  </kiwi-aside>
</div>

<app-footer>
  <span><b>{{ appData.config.project.name }}</b> / &copy; {{ appData.config.project.copyright }} {{ appData.config.project.author }}.</span>
  <span *ngIf="appData.config.project.poweredBy" class="ml-auto">
    powered by <a href="https://github.com/kiwi-suite/kiwi" target="_blank">kiwi</a>
  </span>
</app-footer>
